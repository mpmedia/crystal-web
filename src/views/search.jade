extends layout
block content
  h2 Crystal Registry
  h3 Find Collections, Modules, Users and more
  div!= form
  if search
    if search.results.length
      h3= search.results.length + ' results found.'
      for result in search.results
        div(class='result', onmouseenter='this.style.backgroundColor = "#' + result.color + '"', onmouseleave='this.style.backgroundColor = "#FFF"' style='border: 10px #' + result.color + ' solid')
          div(class='type')= result.type
          div(class='name')
            a(href='/' + result.type.toLowerCase() + 's/' + result.name)= result.name
          a(class='image', href='/' + result.type.toLowerCase() + 's/' + result.name, style='background-image: url(https://s3.amazonaws.com/crystal-alpha/collections/' + (result.collectionId ? result.collectionId : result.id) + '.svg)')
          div!= 'by <a href="users/' + result.user + '">' + result.user + '</a>'
    else
      div No results found.